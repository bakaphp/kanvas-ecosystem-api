<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Login con Facebook</title>
</head>

<body>

    <h2>Iniciar sesión con Facebook</h2>

    <button onclick="loginWithFacebook()" style="
    background-color: #3b5998;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    font-size: 16px;
  ">
        Iniciar con Facebook
    </button>

    <div id="user-info" style="margin-top: 20px;"></div>

    <!-- Facebook SDK -->
    <script>
        window.fbAsyncInit = function () {
            FB.init({
                appId: '1361770951678294',
                xfbml: true,
                version: 'v22.0'
            });
        };
    </script>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js"></script>

    <!-- Script de Login -->
    <script>
        function loginWithFacebook() {
            FB.login(function (response) {

                if (response.status === 'connected') {
                    const accessToken = response.authResponse.accessToken;
                    console.log("Access Token:", accessToken);

                    FB.api('/me', { fields: 'id,name,email,picture' }, function (user) {
                        document.getElementById('user-info').innerHTML = `
              <h3>Bienvenido, ${user.name}</h3>
              <p>Email: ${user.email}</p>
              <img src="${user.picture.data.url}" alt="Avatar">
            `;

                        // Aquí podrías enviar los datos a tu backend si quieres registrarlo o autenticarlo
                        console.log('Usuario:', user);
                    });
                } else {
                    alert('Login cancelado o no autorizado.');
                }
            }, { scope: 'public_profile,email' });
        }
    </script>

</body>

</html>